<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FitnessMobile.TrainersPage"
             Title="Our Trainers"
             BackgroundColor="#f8f9fa">

    <Grid RowDefinitions="Auto, *">
        <Picker x:Name="SpecializationPicker" 
        Title="Filter by Specialization" 
        SelectedIndexChanged="OnFilterChanged" 
        Margin="10" 
        BackgroundColor="White"
        TextColor="Black" />

        <CollectionView x:Name="TrainersList" 
                        Grid.Row="1" 
                        SelectionMode="None">
            <CollectionView.EmptyView>
                <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10" Padding="30">
                    <Label Text="ðŸ”" FontSize="50" HorizontalOptions="Center"/>
                    <Label Text="Couldn't find any trainers." 
                   FontAttributes="Bold" 
                   FontSize="18" 
                   HorizontalOptions="Center"
                   TextColor="Gray"/>
                    <Label Text="Try changing the filter or come back later." 
                   HorizontalOptions="Center" 
                   TextColor="Silver"
                   HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </CollectionView.EmptyView>
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Style="{StaticResource BootstrapCard}">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnTrainerTapped" 
                                                  CommandParameter="{Binding .}"/>
                        </Frame.GestureRecognizers>

                        <VerticalStackLayout>
                            <Label Text="{Binding FullName}" 
                                   FontSize="18" 
                                   FontAttributes="Bold" 
                                   TextColor="#212529"/>

                            <Label Text="{Binding Specialization}" 
                                   TextColor="#0d6efd" 
                                   FontAttributes="Bold"/>

                            <Label Text="{Binding AverageRating, StringFormat='Rating: {0:F1} â˜…'}" 
                                   TextColor="#ffc107" />
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentPage>